{% load static %}
{% load custom_filters %}

<link rel="stylesheet" type="text/css" href="{% static 'css/filtro_coluna_macro_produtos.css' %}">

<section class="filterRow pequeno">
    <div class="filterRowDiv form-custom-background align-items-center">
        <!-- <a class="btn filterRowButton" href="#">
            Filtros
        </a> -->

        <form class="filterRowButton pequenoMenu" action="" method="GET">
            <a class="dropdown-toggle btn filterRowButton_custom pequenoMenuBtn" href="#" id="navbarDropdown4" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <div>
                    Filtros
                </div>
            </a>
            <div class="filterRowButton_dropdown_menu dropdown-menu" aria-labelledby="navbarDropdown4" style="z-index: 2;">
                <div class="filterRowForm">
                    <!-- Passa query no caso de pesquisa -->
                    {% if request.GET.query %}
                        <input type="hidden" name="query" value="{{ request.GET.query }}">
                    {% endif %}
                    <!-- Passa da ordenação dos produtos -->
                    {% if request.GET.Classificar %}
                        <input type="hidden" name="Classificar" value="{{ request.GET.Classificar|orGet:'Destaque' }}">
                    {% endif %}
                    
                    <div class="filterRowFormSection">
                        <span class="caractTitle">
                            Preço máximo
                        </span>
                        <br>
                        <input class="precoInput" name="precoMax" onchange="this.form.submit()" placeholder="R$" {% if request.GET.precoMax %}value="{{ request.GET.precoMax }}"{% endif %}>
                    </div>
        
                    {% if categoria.slug == "ceramicas" or categoria.slug == "porcelanatos" %}
                        <div class="filterRowFormSection">    
                            <div class="filterRowFormSection">
                                <span class="caractTitle">
                                    Acabamento superficial
                                </span>
                                <ul>
                                    {% for label, key in acabamento_superficial_pisos %}
                                        <li><input id="{{ label }}" type="checkbox" name="acabamento_superficial_pisos" value="{{ label }}" onchange="this.form.submit()" {% if label in Caract_acabamento_superficial_pisos %}checked{% endif %}> <label for="{{ label }}">{{ label }}</label></li>
                                    {% endfor %}
                                </ul>
                            </div>                            
        
                            <div class="filterRowFormSection">
                                <span class="caractTitle">
                                    Classe tecnica de absorção
                                </span>
                                <ul>
                                    {% for label, key in classe_tecnica_absorcao_pisos %}
                                        <li><input id="{{ key }}" type="checkbox" name="classe_tecnica_absorcao_pisos" value="{{ key }}" onchange="this.form.submit()" {% if key in Caract_classe_tecnica_absorcao_pisos %}checked{% endif %}> <label for="{{ key }}">{{ key }}</label></li>
                                    {% endfor %}
                                </ul>
                            </div>
                            
                            <div class="filterRowFormSection">
                                <span class="caractTitle">
                                    Variação das faces
                                    <span class="variacaoFacesButton btnInfo">
                                        <svg width="12px" height="100%" viewBox="0 0 24 46" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M12 17.75C12.4142 17.75 12.75 17.4142 12.75 17V11C12.75 10.5858 12.4142 10.25 12 10.25C11.5858 10.25 11.25 10.5858 11.25 11V17C11.25 17.4142 11.5858 17.75 12 17.75Z" fill="#000000"></path> <path d="M12 7C12.5523 7 13 7.44772 13 8C13 8.55228 12.5523 9 12 9C11.4477 9 11 8.55228 11 8C11 7.44772 11.4477 7 12 7Z" fill="#000000"></path> <path fill-rule="evenodd" clip-rule="evenodd" d="M1.25 12C1.25 6.06294 6.06294 1.25 12 1.25C17.9371 1.25 22.75 6.06294 22.75 12C22.75 17.9371 17.9371 22.75 12 22.75C6.06294 22.75 1.25 17.9371 1.25 12ZM12 2.75C6.89137 2.75 2.75 6.89137 2.75 12C2.75 17.1086 6.89137 21.25 12 21.25C17.1086 21.25 21.25 17.1086 21.25 12C21.25 6.89137 17.1086 2.75 12 2.75Z" fill="#000000"></path> </g></svg>
                                    </span>
                                </span>
                                <ul>
                                    {% for label, key in variacao_faces_pisos %}
                                        <li><input id="{{ key }}" type="checkbox" name="variacao_faces_pisos" value="{{ key }}" onchange="this.form.submit()" {% if key in Caract_variacao_faces_pisos %}checked{% endif %}> <label for="{{ key }}">{{ key }}</label></li>
                                    {% endfor %}
                                </ul>
                            </div>

                            <div class="filterRowFormSection">
                                <span class="caractTitle">
                                    Indicacao de uso
                                    <span class="indicUsoButton btnInfo">
                                        <svg width="12px" height="100%" viewBox="0 0 24 46" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M12 17.75C12.4142 17.75 12.75 17.4142 12.75 17V11C12.75 10.5858 12.4142 10.25 12 10.25C11.5858 10.25 11.25 10.5858 11.25 11V17C11.25 17.4142 11.5858 17.75 12 17.75Z" fill="#000000"></path> <path d="M12 7C12.5523 7 13 7.44772 13 8C13 8.55228 12.5523 9 12 9C11.4477 9 11 8.55228 11 8C11 7.44772 11.4477 7 12 7Z" fill="#000000"></path> <path fill-rule="evenodd" clip-rule="evenodd" d="M1.25 12C1.25 6.06294 6.06294 1.25 12 1.25C17.9371 1.25 22.75 6.06294 22.75 12C22.75 17.9371 17.9371 22.75 12 22.75C6.06294 22.75 1.25 17.9371 1.25 12ZM12 2.75C6.89137 2.75 2.75 6.89137 2.75 12C2.75 17.1086 6.89137 21.25 12 21.25C17.1086 21.25 21.25 17.1086 21.25 12C21.25 6.89137 17.1086 2.75 12 2.75Z" fill="#000000"></path> </g></svg>
                                    </span>
                                </span>
                                <ul>
                                    {% for label, key in indicacao_uso_pisos %}
                                        <li><input id="{{ key }}" type="checkbox" name="indicacao_uso_pisos" value="{{ key }}" onchange="this.form.submit()" {% if key in Caract_indicacao_uso_pisos %}checked{% endif %}> <label for="{{ key }}">{{ key }}</label></li>
                                    {% endfor %}
                                </ul>
                            </div>
                        </div>
                    {% endif %}
        
                    {% if marcas %}
                        <div class="filterRowFormSection">
                            <span class="caractTitle">
                                Marcas
                            </span>
                            <ul>
                                {% for m in marcas %}
                                    <li><input id="{{ m }}" type="checkbox" name="marcas" value="{{ m }}" onchange="this.form.submit()" {% if m in Caract_marcas %}checked{% endif %}> <label for="{{ m }}">{{ m }}</label></li>
                                {% endfor %}
                            </ul>
                        </div>
                    {% endif %}
                    </div>
            </div>
        </form>
    </div>
</section>

<section class="filterCol grande">
        <form class="filterColForm" action="" method="GET">
            <!-- Passa query no caso de pesquisa -->
            {% if request.GET.query %}
                <input type="hidden" name="query" value="{{ request.GET.query }}">
            {% endif %}
            <!-- Passa da ordenação dos produtos -->
            {% if request.GET.Classificar %}
                <input type="hidden" name="Classificar" value="{{ request.GET.Classificar|orGet:'Destaque' }}">
            {% endif %}

            <div class="filterColFormSection">
                <span class="caractTitle">
                    Preço máximo
                </span>
                <br>
                <input class="precoInput" name="precoMax" onchange="this.form.submit()" placeholder="R$" {% if request.GET.precoMax %}value="{{ request.GET.precoMax }}"{% endif %}>
            </div>

            {% if categoria.slug == "ceramicas" or categoria.slug == "porcelanatos" %}
                <div class="filterColFormSection">
                    <br>

                    <div class="filterColFormSection">
                        <span class="caractTitle">
                            Acabamento superficial
                        </span>
                        <ul>
                            {% for label, key in acabamento_superficial_pisos %}
                                <li><input id="{{ label }}" type="checkbox" name="acabamento_superficial_pisos" value="{{ label }}" onchange="this.form.submit()" {% if label in Caract_acabamento_superficial_pisos %}checked{% endif %}> <label for="{{ label }}">{{ label }}</label></li>
                            {% endfor %}
                        </ul>
                    </div>

                    <br>

                    <div class="filterColFormSection">
                        <span class="caractTitle">
                            Classe tecnica de absorção
                        </span>
                        <ul>
                            {% for label, key in classe_tecnica_absorcao_pisos %}
                                <li><input id="{{ key }}" type="checkbox" name="classe_tecnica_absorcao_pisos" value="{{ key }}" onchange="this.form.submit()" {% if key in Caract_classe_tecnica_absorcao_pisos %}checked{% endif %}> <label for="{{ key }}">{{ key }}</label></li>
                            {% endfor %}
                        </ul>
                    </div>

                    <br>

                    <div class="filterColFormSection">
                        <span class="caractTitle">
                            Variação das faces
                            <span class="variacaoFacesButton btnInfo">
                                <svg width="12px" height="100%" viewBox="0 0 24 46" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M12 17.75C12.4142 17.75 12.75 17.4142 12.75 17V11C12.75 10.5858 12.4142 10.25 12 10.25C11.5858 10.25 11.25 10.5858 11.25 11V17C11.25 17.4142 11.5858 17.75 12 17.75Z" fill="#000000"></path> <path d="M12 7C12.5523 7 13 7.44772 13 8C13 8.55228 12.5523 9 12 9C11.4477 9 11 8.55228 11 8C11 7.44772 11.4477 7 12 7Z" fill="#000000"></path> <path fill-rule="evenodd" clip-rule="evenodd" d="M1.25 12C1.25 6.06294 6.06294 1.25 12 1.25C17.9371 1.25 22.75 6.06294 22.75 12C22.75 17.9371 17.9371 22.75 12 22.75C6.06294 22.75 1.25 17.9371 1.25 12ZM12 2.75C6.89137 2.75 2.75 6.89137 2.75 12C2.75 17.1086 6.89137 21.25 12 21.25C17.1086 21.25 21.25 17.1086 21.25 12C21.25 6.89137 17.1086 2.75 12 2.75Z" fill="#000000"></path> </g></svg>
                            </span>
                        </span>
                        <ul>
                            {% for label, key in variacao_faces_pisos %}
                                <li><input id="{{ key }}" type="checkbox" name="variacao_faces_pisos" value="{{ key }}" onchange="this.form.submit()" {% if key in Caract_variacao_faces_pisos %}checked{% endif %}> <label for="{{ key }}">{{ key }}</label></li>
                            {% endfor %}
                        </ul>
                    </div>

                    <br>

                    <div class="filterColFormSection">
                        <span class="caractTitle">
                            Indicacao de uso
                            <span class="indicUsoButton btnInfo">
                                <svg width="12px" height="100%" viewBox="0 0 24 46" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path d="M12 17.75C12.4142 17.75 12.75 17.4142 12.75 17V11C12.75 10.5858 12.4142 10.25 12 10.25C11.5858 10.25 11.25 10.5858 11.25 11V17C11.25 17.4142 11.5858 17.75 12 17.75Z" fill="#000000"></path> <path d="M12 7C12.5523 7 13 7.44772 13 8C13 8.55228 12.5523 9 12 9C11.4477 9 11 8.55228 11 8C11 7.44772 11.4477 7 12 7Z" fill="#000000"></path> <path fill-rule="evenodd" clip-rule="evenodd" d="M1.25 12C1.25 6.06294 6.06294 1.25 12 1.25C17.9371 1.25 22.75 6.06294 22.75 12C22.75 17.9371 17.9371 22.75 12 22.75C6.06294 22.75 1.25 17.9371 1.25 12ZM12 2.75C6.89137 2.75 2.75 6.89137 2.75 12C2.75 17.1086 6.89137 21.25 12 21.25C17.1086 21.25 21.25 17.1086 21.25 12C21.25 6.89137 17.1086 2.75 12 2.75Z" fill="#000000"></path> </g></svg>
                            </span>
                        </span>
                        <ul>
                            {% for label, key in indicacao_uso_pisos %}
                                <li><input id="{{ key }}" type="checkbox" name="indicacao_uso_pisos" value="{{ key }}" onchange="this.form.submit()" {% if key in Caract_indicacao_uso_pisos %}checked{% endif %}> <label for="{{ key }}">{{ key }}</label></li>
                            {% endfor %}
                        </ul>
                    </div>
                </div>
            {% endif %}

            {% if marcas %}
                <br>

                <div class="filterColFormSection">
                    <span class="caractTitle">
                        Marcas
                    </span>
                    <ul>
                        {% for m in marcas %}
                            <li><input id="{{ m }}" type="checkbox" name="marcas" value="{{ m }}" onchange="this.form.submit()" {% if m in Caract_marcas %}checked{% endif %}> <label for="{{ m }}">{{ m }}</label></li>
                        {% endfor %}
                    </ul>
                </div>
            {% endif %}
        </form>
</section>

{% if categoria.slug == "ceramicas" or categoria.slug == "porcelanatos" %}
    <div class="variacaoFacesWindow" style="display: none;">
        <div class="d-flex">
            <h4>Variação das faces</h4>
            <span class="variacaoFacesJanelaClose"><b>x</b></span>
        </div>

        <table class="table">
            {% for key, label in variacao_faces_pisos %}
                <tr>
                    <td {% if forloop.first %}style="border-top: none;"{% elif forloop.last %}style="border-bottom: none;"{% endif %}>
                        {{ label }}:
                    </td>
                    <td {% if forloop.first %}style="border-top: none;"{% elif forloop.last %}style="border-bottom: none;"{% endif %}>
                        {{ key }}
                    </td>
                </tr>
            {% endfor %}
        </table>
    </div>

    <div class="indicUsoWindow" style="display: none;">
        <div class="d-flex">
            <h4>Indicação de uso</h4>
            <span class="indicUsoJanelaClose"><b>x</b></span>
        </div>

        <table class="table">
            {% for key, label in indicacao_uso_pisos %}
                <tr>
                    <td {% if forloop.first %}style="border-top: none;"{% elif forloop.last %}style="border-bottom: none;"{% endif %}>
                        {{ label }}:
                    </td>
                    <td {% if forloop.first %}style="border-top: none;"{% elif forloop.last %}style="border-bottom: none;"{% endif %}>
                        {{ key }}
                    </td>
                </tr>
            {% endfor %}
        </table>
    </div>
{% endif %}

<script src="{% static 'js/filtro_coluna_macro_produtos.js' %}"></script>